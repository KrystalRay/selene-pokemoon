<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>MBTå‡½æ•°æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background-color: #2980b9;
        }
        .result {
            margin: 10px 0;
            padding: 10px;
            border-radius: 4px;
            background-color: #f8f9fa;
            border-left: 4px solid #3498db;
        }
        .error {
            border-left-color: #e74c3c;
            background-color: #fdf2f2;
        }
        .success {
            border-left-color: #27ae60;
            background-color: #f0f9f0;
        }
    </style>
</head>
<body>
    <h1>MBTå‡½æ•°æµ‹è¯•é¡µé¢</h1>
    
    <div class="test-section">
        <h2>åŸºç¡€å‡½æ•°æµ‹è¯•</h2>
        <button onclick="testBasicFunctions()">æµ‹è¯•åŸºç¡€å‡½æ•°</button>
        <div id="basic-results"></div>
    </div>
    
    <div class="test-section">
        <h2>æˆ˜æ–—ç³»ç»Ÿæµ‹è¯•</h2>
        <button onclick="testBattleSystem()">æµ‹è¯•æˆ˜æ–—ç³»ç»Ÿ</button>
        <div id="battle-results"></div>
    </div>
    
    <div class="test-section">
        <h2>æ¸¸æˆç®¡ç†å™¨æµ‹è¯•</h2>
        <button onclick="testGameManager()">æµ‹è¯•æ¸¸æˆç®¡ç†å™¨</button>
        <div id="game-results"></div>
    </div>

    <script src="target/js/release/build/pokemoon.js"></script>
    <script>
        function logResult(containerId, message, type = 'info') {
            const container = document.getElementById(containerId);
            const div = document.createElement('div');
            div.className = `result ${type}`;
            div.innerHTML = `<strong>${new Date().toLocaleTimeString()}:</strong> ${message}`;
            container.appendChild(div);
        }

        function testBasicFunctions() {
            const container = document.getElementById('basic-results');
            container.innerHTML = '';
            
            try {
                // æµ‹è¯•mbtå‡½æ•°æ˜¯å¦å­˜åœ¨
                if (typeof KrystalRay$pokemoon$$test_battle_system === 'function') {
                    logResult('basic-results', 'âœ… test_battle_systemå‡½æ•°å­˜åœ¨', 'success');
                } else {
                    logResult('basic-results', 'âŒ test_battle_systemå‡½æ•°ä¸å­˜åœ¨', 'error');
                }
                
                if (typeof KrystalRay$pokemoon$$create_game_data_manager === 'function') {
                    logResult('basic-results', 'âœ… create_game_data_managerå‡½æ•°å­˜åœ¨', 'success');
                } else {
                    logResult('basic-results', 'âŒ create_game_data_managerå‡½æ•°ä¸å­˜åœ¨', 'error');
                }
                
                if (typeof KrystalRay$pokemoon$$create_game_manager === 'function') {
                    logResult('basic-results', 'âœ… create_game_managerå‡½æ•°å­˜åœ¨', 'success');
                } else {
                    logResult('basic-results', 'âŒ create_game_managerå‡½æ•°ä¸å­˜åœ¨', 'error');
                }
                
                if (typeof KrystalRay$pokemoon$$create_test_pokemon === 'function') {
                    logResult('basic-results', 'âœ… create_test_pokemonå‡½æ•°å­˜åœ¨', 'success');
                } else {
                    logResult('basic-results', 'âŒ create_test_pokemonå‡½æ•°ä¸å­˜åœ¨', 'error');
                }
                
                if (typeof KrystalRay$pokemoon$$create_test_player === 'function') {
                    logResult('basic-results', 'âœ… create_test_playerå‡½æ•°å­˜åœ¨', 'success');
                } else {
                    logResult('basic-results', 'âŒ create_test_playerå‡½æ•°ä¸å­˜åœ¨', 'error');
                }
                
            } catch (error) {
                logResult('basic-results', `âŒ æµ‹è¯•è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯: ${error.message}`, 'error');
            }
        }

        function testBattleSystem() {
            const container = document.getElementById('battle-results');
            container.innerHTML = '';
            
            try {
                logResult('battle-results', 'ğŸš€ å¼€å§‹æµ‹è¯•æˆ˜æ–—ç³»ç»Ÿ...', 'info');
                
                // è°ƒç”¨mbtå‡½æ•°
                if (typeof KrystalRay$pokemoon$$test_battle_system === 'function') {
                    KrystalRay$pokemoon$$test_battle_system();
                    logResult('battle-results', 'âœ… æˆ˜æ–—ç³»ç»Ÿæµ‹è¯•å‡½æ•°æ‰§è¡ŒæˆåŠŸ', 'success');
                } else {
                    logResult('battle-results', 'âŒ æˆ˜æ–—ç³»ç»Ÿæµ‹è¯•å‡½æ•°ä¸å­˜åœ¨', 'error');
                }
                
            } catch (error) {
                logResult('battle-results', `âŒ æˆ˜æ–—ç³»ç»Ÿæµ‹è¯•å¤±è´¥: ${error.message}`, 'error');
            }
        }

        function testGameManager() {
            const container = document.getElementById('game-results');
            container.innerHTML = '';
            
            try {
                logResult('game-results', 'ğŸ® å¼€å§‹æµ‹è¯•æ¸¸æˆç®¡ç†å™¨...', 'info');
                
                // æµ‹è¯•å„ä¸ªæ¸¸æˆç®¡ç†å‡½æ•°
                if (typeof KrystalRay$pokemoon$$create_game_data_manager === 'function') {
                    KrystalRay$pokemoon$$create_game_data_manager();
                    logResult('game-results', 'âœ… æ¸¸æˆæ•°æ®ç®¡ç†å™¨åˆ›å»ºæˆåŠŸ', 'success');
                }
                
                if (typeof KrystalRay$pokemoon$$create_game_manager === 'function') {
                    KrystalRay$pokemoon$$create_game_manager();
                    logResult('game-results', 'âœ… æ¸¸æˆç®¡ç†å™¨åˆ›å»ºæˆåŠŸ', 'success');
                }
                
                if (typeof KrystalRay$pokemoon$$create_test_pokemon === 'function') {
                    KrystalRay$pokemoon$$create_test_pokemon();
                    logResult('game-results', 'âœ… æµ‹è¯•å®å¯æ¢¦åˆ›å»ºæˆåŠŸ', 'success');
                }
                
                if (typeof KrystalRay$pokemoon$$create_test_player === 'function') {
                    KrystalRay$pokemoon$$create_test_player();
                    logResult('game-results', 'âœ… æµ‹è¯•ç©å®¶åˆ›å»ºæˆåŠŸ', 'success');
                }
                
                logResult('game-results', 'ğŸ‰ æ‰€æœ‰æ¸¸æˆç®¡ç†å™¨æµ‹è¯•å®Œæˆï¼', 'success');
                
            } catch (error) {
                logResult('game-results', `âŒ æ¸¸æˆç®¡ç†å™¨æµ‹è¯•å¤±è´¥: ${error.message}`, 'error');
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆåè‡ªåŠ¨è¿è¡ŒåŸºç¡€æµ‹è¯•
        window.addEventListener('load', function() {
            logResult('basic-results', 'ğŸ“‹ é¡µé¢åŠ è½½å®Œæˆï¼ŒMBTå‡½æ•°å·²åŠ è½½', 'info');
            testBasicFunctions();
        });
    </script>
</body>
</html> 